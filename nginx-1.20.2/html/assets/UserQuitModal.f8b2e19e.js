var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,n=(t,o,a)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[o]=a;import{B as i}from"./index.a6220f15.js";import{B as l}from"./BasicTable.e3f897c9.js";import{T as c}from"./BasicForm.vue_vue_type_style_index_0_lang.daafa440.js";import"./TableImg.vue_vue_type_style_index_0_lang.bde218ee.js";import{r as d}from"./user.data.7a0af023.js";import{j as u,p as m}from"./validator.f9ca1444.js";import{L as p,_ as f}from"./index.8e60a3c0.js";import{u as b}from"./useListPage.b9ed7a87.js";import{M as j}from"./vendor.ece5be17.js";import{d as _,k as v,Y as y,a2 as w,ab as g,ad as x,f as h,u as O,E as P,Z as k,ac as C,J as R}from"./vue-vendor.1938e417.js";import"./BasicModal.cadf9873.js";import"./useWindowSizeFn.6b4ca4c0.js";import"./useForm.0379175d.js";import"./index.614f054b.js";import"./useCountdown.293f285b.js";import"./JUpload.vue_vue_type_style_index_0_lang.9ab12372.js";import"./index.ea04f0eb.js";import"./areaDataUtil.d2791cdd.js";import"./index.c01929c9.js";import"./__commonjsHelpers__.488ed5c2.js";import"./useTable.12b47fdb.js";const T=_({name:"user-quit-modal"}),B=_((S=((e,t)=>{for(var o in t||(t={}))r.call(t,o)&&n(e,o,t[o]);if(a)for(var o of a(t))s.call(t,o)&&n(e,o,t[o]);return e})({},T),t(S,o({emits:["success","register"],setup(e,{emit:t}){const o=v([]),[a]=p((()=>{o.value=[]})),{prefixCls:r,tableContext:s}=b({tableProps:{api:u,columns:d,rowKey:"id",canResize:!1,useSearchForm:!1,actionColumn:{width:120}}}),[n,{reload:f},{rowSelection:_,selectedRowKeys:T,selectedRows:B}]=s;function S(e){return o=this,a=null,r=function*(){yield m({userIds:e.id,usernames:e.username},f),t("success")},new Promise(((e,t)=>{var s=e=>{try{i(r.next(e))}catch(o){t(o)}},n=e=>{try{i(r.throw(e))}catch(o){t(o)}},i=t=>t.done?e(t.value):Promise.resolve(t.value).then(s,n);i((r=r.apply(o,a)).next())}));var o,a,r}function I(){j.confirm({title:"取消离职",content:"取消离职交接人也会清空",okText:"确认",cancelText:"取消",onOk:()=>{let e=B.value,t=[];for(const o of e)t.push(o.username);S({id:R(O(T)).join(","),username:t.join(",")})}})}function F(e){return[{label:"取消离职",icon:"ant-design:redo-outlined",popConfirm:{title:"是否取消离职,取消离职交接人也会清空",confirm:S.bind(null,e)}}]}return(e,t)=>{const o=y("Icon"),r=y("a-menu-item"),s=y("a-menu"),d=y("a-button"),u=y("a-dropdown");return w(),g(O(i),C(e.$attrs,{onRegister:O(a),title:"离职人员信息",showOkBtn:!1,width:"1000px",destroyOnClose:""}),{default:x((()=>[h(O(l),{onRegister:O(n),rowSelection:O(_)},{tableTitle:x((()=>[O(T).length>0?(w(),g(u,{key:0},{overlay:x((()=>[h(s,null,{default:x((()=>[h(r,{key:"1",onClick:I},{default:x((()=>[h(o,{icon:"ant-design:redo-outlined"}),P(" 批量取消 ")])),_:1})])),_:1})])),default:x((()=>[h(d,null,{default:x((()=>[P("批量操作 "),h(o,{icon:"ant-design:down-outlined"})])),_:1})])),_:1})):k("",!0)])),action:x((({record:e})=>[h(O(c),{actions:F(e)},null,8,["actions"])])),_:1},8,["onRegister","rowSelection"])])),_:1},16,["onRegister"])}}}))));var S;const I=f(B,[["__scopeId","data-v-7a49ab93"]]);export{I as default};
