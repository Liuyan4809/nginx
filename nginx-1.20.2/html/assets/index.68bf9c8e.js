import e from"./index.bb2190bb.js";import{aK as a,bq as t,_ as n,bh as o,bv as s,a as r,a4 as i}from"./index.8e60a3c0.js";import{e as u,_ as g,J as m,u as c,d as l,Y as d,a2 as f,a3 as h,F as p,ai as b,Z as P,t as F,A as T,ab as y,f as S,ad as w,ah as C,as as L,o as v,v as M,a4 as R}from"./vue-vendor.1938e417.js";import{bq as k}from"./vendor.ece5be17.js";import{a as j}from"./useContentViewHeight.386160ed.js";function x(){const e=a();return{setMultipleTabSetting:function(a){e.setProjectConfig({multiTabsSetting:a})},getShowMultipleTab:u((()=>e.getMultiTabsSetting.show)),getShowQuick:u((()=>e.getMultiTabsSetting.showQuick)),getShowRedo:u((()=>e.getMultiTabsSetting.showRedo)),getShowFold:u((()=>e.getMultiTabsSetting.showFold)),getTabsTheme:u((()=>e.getMultiTabsSetting.theme))}}const I=l({name:"FrameLayout",components:{FramePage:e},setup(){const{getFramePages:e,hasRenderFrame:a,showIframe:n}=function(){const e=g(),{currentRoute:a}=e,{getShowMultipleTab:n}=x(),o=t(),s=u((()=>i(m(e.getRoutes()))||[])),r=u((()=>o.getTabList.reduce(((e,a)=>(a.meta&&Reflect.has(a.meta,"frameSrc")&&e.push(a.name),e)),[])));function i(e){let a=[];for(const t of e){const{meta:{frameSrc:e}={},children:n}=t;e&&a.push(t),n&&n.length&&a.push(...i(n))}return a=k(a,"name"),a}return{hasRenderFrame:function(a){return c(n)?c(r).includes(a):e.currentRoute.value.name===a},getFramePages:s,showIframe:function(e){return e.name===c(a).name},getAllFramePages:i}}(),o=u((()=>c(e).length>0));return{getFramePages:e,hasRenderFrame:a,showIframe:n,showFrame:o}}}),_={key:0};function O({route:e,openCache:a,cacheTabs:t,enableTransition:n,def:o}){if(!n)return;const s=t.includes(e.name),r="fade-slide";let i=r;return a&&(i=s&&e.meta.loaded?r:void 0),i||e.meta.transitionName||o}const E=l({name:"PageLayout",components:{FrameLayout:n(I,[["render",function(e,a,t,n,o,s){const r=d("FramePage");return e.showFrame?(f(),h("div",_,[(f(!0),h(p,null,b(e.getFramePages,(a=>(f(),h(p,{key:a.path},[a.meta.frameSrc&&e.hasRenderFrame(a.name)?F((f(),y(r,{key:0,frameSrc:a.meta.frameSrc},null,8,["frameSrc"])),[[T,e.showIframe(a)]]):P("",!0)],64)))),128))])):P("",!0)}]])},setup(){const{getShowMultipleTab:e}=x(),a=t(),{getOpenKeepAlive:n,getCanEmbedIFramePage:r}=o(),{getBasicTransition:i,getEnableTransition:g}=s();return{getTransitionName:O,openCache:u((()=>c(n)&&c(e))),getEnableTransition:g,getBasicTransition:i,getCaches:u((()=>c(n)?a.getCachedTabList:[])),getCanEmbedIFramePage:r}}});const K=l({name:"LayoutContent",components:{PageLayout:n(E,[["render",function(e,a,t,n,o,s){const r=d("RouterView"),i=d("FrameLayout");return f(),h(p,null,[S(r,null,{default:w((({Component:a,route:t})=>[e.openCache?(f(),y(L,{key:0,include:e.getCaches},[(f(),y(C(a),{key:t.fullPath}))],1032,["include"])):(f(),y(C(a),{key:t.fullPath}))])),_:1}),e.getCanEmbedIFramePage?(f(),y(i,{key:0})):P("",!0)],64)}]])},setup(){const{prefixCls:e}=r("layout-content"),{getOpenPageLoading:a}=s(),{getLayoutContentMode:t,getPageLoading:n}=o(),u=i().openQianKun;return j(),v((()=>{})),{prefixCls:e,openQianKun:u,getOpenPageLoading:a,getLayoutContentMode:t,getPageLoading:n}}}),Q={key:0,id:"content",class:"app-view-box"};const A=n(K,[["render",function(e,a,t,n,o,s){const r=d("PageLayout"),i=M("loading");return F((f(),h("div",{class:R([e.prefixCls,e.getLayoutContentMode])},[S(r),"true"==e.openQianKun?(f(),h("div",Q)):P("",!0)],2)),[[i,e.getOpenPageLoading&&e.getPageLoading]])}]]),q=Object.freeze(Object.defineProperty({__proto__:null,default:A},Symbol.toStringTag,{value:"Module"}));export{A as L,q as i,x as u};
