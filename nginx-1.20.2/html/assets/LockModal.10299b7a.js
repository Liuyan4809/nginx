import{a as e,aa as a,L as s,u as r,_ as o}from"./index.8e60a3c0.js";import{B as t}from"./index.a6220f15.js";import{B as i,u as l}from"./useForm.0379175d.js";import"./BasicForm.vue_vue_type_style_index_0_lang.daafa440.js";import{u as n}from"./lock.620d9da5.js";import{h as c}from"./header.42ca8d70.js";import{d,e as m,Y as p,a2 as u,ab as f,ad as _,a7 as v,a4 as h,ag as j,f as x,E as g,ac as y}from"./vue-vendor.1938e417.js";import"./vendor.ece5be17.js";import"./__commonjsHelpers__.488ed5c2.js";import"./BasicModal.cadf9873.js";import"./useWindowSizeFn.6b4ca4c0.js";import"./index.614f054b.js";import"./useCountdown.293f285b.js";import"./JUpload.vue_vue_type_style_index_0_lang.9ab12372.js";import"./index.ea04f0eb.js";import"./areaDataUtil.d2791cdd.js";import"./index.c01929c9.js";const k=d({name:"LockModal",components:{BasicModal:t,BasicForm:i},setup(){const{t:o}=r(),{prefixCls:t}=e("header-lock-modal"),i=a(),d=n(),p=m((()=>{var e;return null==(e=i.getUserInfo)?void 0:e.realName})),[u,{closeModal:f}]=s(),[_,{validateFields:v,resetFields:h}]=l({labelWidth:100,showActionButtonGroup:!1,schemas:[{field:"password",label:o("layout.header.lockScreenPassword"),component:"InputPassword",required:!0}]});return{t:o,prefixCls:t,getRealName:p,register:u,registerForm:_,handleLock:function(){return e=this,a=null,s=function*(){const e=(yield v()).password;f(),d.setLockInfo({isLock:!0,pwd:e}),yield h()},new Promise(((r,o)=>{var t=e=>{try{l(s.next(e))}catch(a){o(a)}},i=e=>{try{l(s.throw(e))}catch(a){o(a)}},l=e=>e.done?r(e.value):Promise.resolve(e.value).then(t,i);l((s=s.apply(e,a)).next())}));var e,a,s},avatar:m((()=>{const{avatar:e}=i.getUserInfo;return e||c}))}}}),b=["src"];const C=o(k,[["render",function(e,a,s,r,o,t){const i=p("BasicForm"),l=p("a-button"),n=p("BasicModal");return u(),f(n,y({footer:null,title:e.t("layout.header.lockScreen")},e.$attrs,{class:e.prefixCls,onRegister:e.register}),{default:_((()=>[v("div",{class:h(`${e.prefixCls}__entry`)},[v("div",{class:h(`${e.prefixCls}__header`)},[v("img",{src:e.avatar,class:h(`${e.prefixCls}__header-img`)},null,10,b),v("p",{class:h(`${e.prefixCls}__header-name`)},j(e.getRealName),3)],2),x(i,{onRegister:e.registerForm},null,8,["onRegister"]),v("div",{class:h(`${e.prefixCls}__footer`)},[x(l,{type:"primary",block:"",class:"mt-2",onClick:e.handleLock},{default:_((()=>[g(j(e.t("layout.header.lockScreenBtn")),1)])),_:1},8,["onClick"])],2)],2)])),_:1},16,["title","class","onRegister"])}]]);export{C as default};
