import{aq as e,_ as s}from"./vue-vendor.1938e417.js";import{u as a,aa as r,A as n,_ as o}from"./index.8e60a3c0.js";import"./vendor.ece5be17.js";import"./__commonjsHelpers__.488ed5c2.js";const t=o({name:"TokenLogin",setup(){const o=e();let t=s();const{createMessage:i,notification:c}=n(),{t:d}=a(),u=o.query;u||i.warning("参数无效");r().ThirdLogin({thirdType:"email"}).then((e=>{var s;e&&e.userInfo?function(e){let s=u.info;if(s){let a=JSON.parse(s),r="/task/handle/"+a.taskId;t.replace({path:r,query:a}),c.success({message:d("sys.login.loginSuccessTitle"),description:`${d("sys.login.loginSuccessDesc")}: ${e.userInfo.realName}`,duration:3})}else c.error({message:"参数失效",description:"页面跳转参数丢失，请查看日志",duration:4})}(e):(s=e,c.error({message:"登录失败",description:((s.response||{}).data||{}).message||s.message||"请求出现错误，请稍后再试",duration:4}))}))}},[["render",function(e,s,a,r,n,o){return null}],["__scopeId","data-v-f0848c53"]]);export{t as default};
