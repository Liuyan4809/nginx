var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,o=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,n=(e,n)=>{for(var r in n||(n={}))a.call(n,r)&&o(e,r,n[r]);if(t)for(var r of t(n))l.call(n,r)&&o(e,r,n[r]);return e};import{r,g as d,a as s}from"./validator.f9ca1444.js";import{an as i,ag as p,T as c}from"./vendor.ece5be17.js";import{R as m,I as u,aT as f,a0 as b,a5 as h}from"./index.8e60a3c0.js";import{n as I}from"./vue-vendor.1938e417.js";const P={renderAvatar:({record:e})=>{if(e.avatar){let t=e.avatar.split(",");return I("span",t.map((e=>I(i,{src:m(e),shape:"square",size:"default",style:{marginRight:"5px"}}))))}return I(i,{shape:"square",size:"default"},{icon:()=>I(u,{icon:"ant-design:file-image-outlined",size:30})})},renderDict:(e,t,a=!1)=>{let l="",o=(f(t)||[]).filter((t=>t.value==e));return o.length>0&&(l=o[0].text),b(l)||!a?I("span",l):I(p,l)},renderImage:({text:e})=>{if(!e)return I(i,{shape:"square",size:25},{icon:()=>I(u,{icon:"ant-design:file-image-outlined",size:25})});let t=e.split(",");return I("span",t.map((e=>I(i,{src:m(e),shape:"square",size:25,style:{marginRight:"5px"}}))))},renderTip:(e,t=20)=>{if(e){let a=e+"";return a.length>t&&(a=a.substr(0,t)+"..."),I(c,{title:e},(()=>a))}return e},renderHref:({text:e})=>{if(!e)return"";return e.length>20&&(e=e.substr(0,20)),I("a",{href:e,target:"_blank"},e)},renderDictNative:(e,t,a=!1)=>{let l="",o="",n=t.filter((t=>t.value==e));return n.length>0&&(l=n[0].label,o=n[0].color),b(l)||!a?I("span",l):I(p,{color:o},(()=>l))},renderSwitch:(e,t)=>e?h(t,e):"",renderCategoryTree:(e,t)=>{let a=f(t);return h(a,e)},renderTag:(e,t)=>b(e)?I("span",e):I(p,{color:t},(()=>e))},x=[{title:"用户账号",dataIndex:"username",width:120},{title:"用户姓名",dataIndex:"realName",width:100},{title:"头像",dataIndex:"avatar",width:120,customRender:P.renderAvatar},{title:"性别",dataIndex:"sex",width:80,sorter:!0,customRender:({text:e})=>P.renderDict(e,"sex")},{title:"生日",dataIndex:"birthday",width:100},{title:"手机号",dataIndex:"phone",width:100},{title:"部门",width:150,dataIndex:"orgCodeTxt"},{title:"负责部门",width:150,dataIndex:"departIds_dictText"},{title:"状态",dataIndex:"status_dictText",width:80}],g=[{title:"用户账号",dataIndex:"username",width:100},{title:"用户姓名",dataIndex:"realName",width:100},{title:"头像",dataIndex:"avatar",width:80,customRender:P.renderAvatar},{title:"性别",dataIndex:"sex",width:80,sorter:!0,customRender:({text:e})=>P.renderDict(e,"sex")}],y=[{label:"账号",field:"username",component:"JInput",colProps:{span:6}},{label:"名字",field:"realName",component:"JInput",colProps:{span:6}},{label:"性别",field:"sex",component:"JDictSelectTag",componentProps:{dictCode:"sex",placeholder:"请选择性别",stringToNumber:!0},colProps:{span:6}},{label:"手机号码",field:"phone",component:"Input",colProps:{span:6}},{label:"用户状态",field:"status",component:"JDictSelectTag",componentProps:{dictCode:"user_status",placeholder:"请选择状态",stringToNumber:!0},colProps:{span:6}}],w=[{label:"",field:"id",component:"Input",show:!1},{label:"用户账号",field:"username",component:"Input",dynamicDisabled:({values:e})=>!!e.id,dynamicRules:({model:e,schema:t})=>r.duplicateCheckRule("sys_user","username",e,t,!0)},{label:"登录密码",field:"password",component:"StrengthMeter",rules:[{required:!0,message:"请输入登录密码"}]},{label:"确认密码",field:"confirmPassword",component:"InputPassword",dynamicRules:({values:e})=>r.confirmPassword(e,!0)},{label:"用户姓名",field:"realName",required:!0,component:"Input"},{label:"工号",field:"workNo",required:!0,component:"Input",dynamicRules:({model:e,schema:t})=>r.duplicateCheckRule("sys_user","work_no",e,t,!0)},{label:"职务",field:"post",required:!1,component:"JSelectPosition",componentProps:{rowKey:"code",labelKey:"name"}},{label:"角色",field:"selectedroles",component:"ApiSelect",componentProps:{mode:"multiple",api:d,labelField:"roleName",valueField:"id"}},{label:"所属部门",field:"selecteddeparts",component:"JSelectDept",componentProps:({formActionType:e,formModel:t})=>({sync:!1,checkStrictly:!0,defaultExpandLevel:2,onSelect:(a,l)=>{const{updateSchema:o}=e;o([{field:"departIds",componentProps:{options:a}}]),t.departIds&&(t.departIds=t.departIds.filter((e=>l.value.indexOf(e)>-1)))}})},{label:"租户",field:"relTenantIds",component:"ApiSelect",componentProps:{mode:"multiple",api:s,numberToString:!0,labelField:"name",valueField:"id"}},{label:"身份",field:"userIdentity",component:"RadioGroup",defaultValue:1,componentProps:({formModel:e})=>({options:[{label:"普通用户",value:1,key:"1"},{label:"上级",value:2,key:"2"}],onChange:()=>{1==e.userIdentity&&(e.departIds=[])}})},{label:"负责部门",field:"departIds",component:"Select",componentProps:{mode:"multiple"},ifShow:({values:e})=>2==e.userIdentity},{label:"头像",field:"avatar",component:"JImageUpload",componentProps:{fileMax:1}},{label:"生日",field:"birthday",component:"DatePicker"},{label:"性别",field:"sex",component:"JDictSelectTag",componentProps:{dictCode:"sex",placeholder:"请选择性别",stringToNumber:!0}},{label:"邮箱",field:"email",component:"Input",dynamicRules:({model:e,schema:t})=>[n({},r.duplicateCheckRule("sys_user","email",e,t,!0)[0]),n({},r.rule("email",!1)[0])]},{label:"手机号码",field:"phone",component:"Input",dynamicRules:({model:e,schema:t})=>[n({},r.duplicateCheckRule("sys_user","phone",e,t,!0)[0]),{pattern:/^1[3456789]\d{9}$/,message:"手机号码格式有误"}]},{label:"座机",field:"telephone",component:"Input",rules:[{pattern:/^0\d{2,3}-[1-9]\d{6,7}$/,message:"请输入正确的座机号码"}]},{label:"工作流引擎",field:"activitiSync",defaultValue:1,component:"JDictSelectTag",componentProps:{dictCode:"activiti_sync",type:"radio",stringToNumber:!0}}],v=[{label:"用户账号",field:"username",component:"Input",componentProps:{readOnly:!0}},{label:"登录密码",field:"password",component:"StrengthMeter",componentProps:{placeholder:"请输入登录密码"},rules:[{required:!0,message:"请输入登录密码"}]},{label:"确认密码",field:"confirmPassword",component:"InputPassword",dynamicRules:({values:e})=>r.confirmPassword(e,!0)}],T=[{label:"",field:"id",component:"Input",show:!1},{field:"userName",label:"用户名",component:"Input",componentProps:{readOnly:!0,allowClear:!1}},{field:"agentUserName",label:"代理人用户名",required:!0,component:"JSelectUser",componentProps:{rowKey:"username",labelKey:"realName",maxSelectCount:10}},{field:"startTime",label:"代理开始时间",component:"DatePicker",required:!0,componentProps:{showTime:!0,valueFormat:"YYYY-MM-DD HH:mm:ss",placeholder:"请选择代理开始时间"}},{field:"endTime",label:"代理结束时间",component:"DatePicker",required:!0,componentProps:{showTime:!0,valueFormat:"YYYY-MM-DD HH:mm:ss",placeholder:"请选择代理结束时间"}},{field:"status",label:"状态",component:"JDictSelectTag",defaultValue:"1",componentProps:{dictCode:"valid_status",type:"radioButton"}}],D=[{label:"",field:"id",component:"Input",show:!1},{field:"userName",label:"用户名",component:"Input",componentProps:{readOnly:!0,allowClear:!1}},{field:"agentUserName",label:"交接人员",required:!0,component:"JSelectUser",componentProps:{rowKey:"username",labelKey:"realName",maxSelectCount:1}},{field:"startTime",label:"交接开始时间",component:"DatePicker",required:!0,componentProps:{showTime:!0,valueFormat:"YYYY-MM-DD HH:mm:ss",placeholder:"请选择交接开始时间",getPopupContainer:()=>document.body}},{field:"endTime",label:"交接结束时间",component:"DatePicker",required:!0,componentProps:{showTime:!0,valueFormat:"YYYY-MM-DD HH:mm:ss",placeholder:"请选择交接结束时间",getPopupContainer:()=>document.body}},{field:"status",label:"状态",component:"JDictSelectTag",defaultValue:"1",componentProps:{dictCode:"valid_status",type:"radioButton"}}],S=[{title:"用户账号",dataIndex:"username",width:120},{title:"用户姓名",dataIndex:"realName",width:100},{title:"头像",dataIndex:"avatar",width:120,customRender:P.renderAvatar},{title:"手机号",dataIndex:"phone",width:100},{title:"部门",width:150,dataIndex:"orgCodeTxt"},{title:"状态",dataIndex:"status",width:80,customRender:({text:e})=>"1"===e?"正常":"3"===e?"审批中":"已拒绝"}],C=[{label:"账号",field:"username",component:"Input",colProps:{span:6}},{label:"名字",field:"realName",component:"Input",colProps:{span:6}},{label:"性别",field:"sex",component:"JDictSelectTag",componentProps:{dictCode:"sex",placeholder:"请选择性别",stringToNumber:!0},colProps:{span:6}}];export{C as a,w as b,D as c,T as d,x as e,v as f,g as r,y as s,S as u};
