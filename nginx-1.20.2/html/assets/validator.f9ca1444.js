var e=(e,s,r)=>new Promise(((a,t)=>{var o=e=>{try{u(r.next(e))}catch(s){t(s)}},l=e=>{try{u(r.throw(e))}catch(s){t(s)}},u=e=>e.done?a(e.value):Promise.resolve(e.value).then(o,l);u((r=r.apply(e,s)).next())}));import{d as s,aj as r}from"./index.8e60a3c0.js";import{M as a}from"./vendor.ece5be17.js";const t="/sys/user/exportXls",o="/sys/user/importExcel",l=e=>s.get({url:"/sys/user/listAll",params:e}),u=e=>s.get({url:"/sys/user/queryUserRole",params:e},{errorMessageMode:"none"}),i=(e,r)=>s.delete({url:"/sys/user/delete",params:e},{joinParamsToUrl:!0}).then((()=>{r()})),n=(e,r)=>{a.confirm({title:"确认删除",content:"是否删除选中数据",okText:"确认",cancelText:"取消",onOk:()=>s.delete({url:"/sys/user/deleteBatch",data:e},{joinParamsToUrl:!0}).then((()=>{r()}))})},m=(e,r)=>{let a=r?"/sys/user/edit":"/sys/user/add";return s.post({url:a,params:e})},c=e=>s.get({url:"/sys/role/queryall",params:e}),p=e=>s.get({url:"/sys/role/queryallNoByTenant",params:e}),d=e=>s.get({url:"/sys/tenant/queryList",params:e}),y=e=>s.get({url:"/sys/user/userDepartList",params:e},{successMessageMode:"none"}),g=e=>s.get({url:"/sys/user/recycleBin",params:e}),h=(e,r)=>s.put({url:"/sys/user/putRecycleBin",params:e}).then((()=>{r()})),P=(e,r)=>s.delete({url:"/sys/user/deleteRecycleBin",params:e},{joinParamsToUrl:!0}).then((()=>{r()})),j=e=>s.put({url:"/sys/user/changePassword",params:e}),v=(e,r)=>s.put({url:"/sys/user/frozenBatch",params:e}).then((()=>{r()})),f=e=>s.get({url:"/sys/sysUserAgent/queryByUserName",params:e},{isTransformResponse:!1}),T=e=>{let r=e.id?"/sys/sysUserAgent/edit":"/sys/sysUserAgent/add";return s.post({url:r,params:e})},U=()=>s.put({url:"/act/process/extActProcess/doSyncUser"}),q=e=>s.put({url:"/sys/user/userQuitAgent",params:e}),x=e=>s.get({url:"/sys/user/getQuitList",params:e}),B=(e,r)=>s.put({url:"/sys/user/putCancelQuit",params:e},{joinParamsToUrl:!0}).then((()=>{r()})),w=e=>s.get({url:"/sys/tenant/getUserTenantPageList",params:e}),A=e=>s.put({url:"/sys/tenant/updateUserTenantStatus",params:e},{joinParamsToUrl:!0,isTransformResponse:!1}),R={rule(e,s){return"email"===e?this.email(s):"phone"===e?this.phone(s):void 0},email(s){return[{required:s||!1,validator:(r,a)=>e(this,null,(function*(){return 1!=s||a?a&&!new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/).test(a)?Promise.reject("请输入正确邮箱格式!"):Promise.resolve():Promise.reject("请输入邮箱!")})),trigger:"change"}]},phone(s){return[{required:s,validator:(r,a)=>e(this,null,(function*(){return s&&!a?Promise.reject("请输入手机号码1!"):/^1[3456789]\d{9}$/.test(a)?Promise.resolve():Promise.reject("手机号码格式有误")})),trigger:"change"}]},startTime:(e,s)=>[{required:s||!1,validator:(a,t)=>s&&!t?Promise.reject("请选择开始时间"):e&&t&&r(e).isBefore(t)?Promise.reject("开始时间需小于结束时间"):Promise.resolve(),trigger:"change"}],endTime:(e,s)=>[{required:s||!1,validator:(a,t)=>s&&!t?Promise.reject("请选择结束时间"):e&&t&&r(t).isBefore(e)?Promise.reject("结束时间需大于开始时间"):Promise.resolve(),trigger:"change"}],confirmPassword:(e,s)=>[{required:s||!1,validator:(s,r)=>r?r!==e.password?Promise.reject("两次输入的密码不一致!"):Promise.resolve():Promise.reject("密码不能为空")}],duplicateCheckRule:(e,r,a,t,o)=>[{validator:(l,u)=>!u&&o?Promise.reject(`请输入${t.label}`):new Promise(((t,o)=>{var l;(l={tableName:e,fieldName:r,fieldVal:u,dataId:a.id},s.get({url:"/sys/duplicate/check",params:l},{isTransformResponse:!1})).then((e=>{e.success?t():o(e.message||"校验失败")})).catch((e=>{o(e.message||"验证失败")}))}))}]};export{d as a,w as b,j as c,u as d,y as e,c as f,p as g,f as h,q as i,x as j,T as k,g as l,h as m,P as n,l as o,B as p,t as q,R as r,m as s,o as t,A as u,n as v,v as w,U as x,i as y};
