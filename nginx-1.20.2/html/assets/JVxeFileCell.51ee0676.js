import{U as e}from"./JUpload.vue_vue_type_style_index_0_lang.9ab12372.js";import{c as a,u as l,e as n}from"./useFileCell.40ae9fd5.js";import{aW as o,_ as t}from"./index.8e60a3c0.js";import{d as i,Y as s,a2 as d,a3 as r,F as p,ai as u,ab as c,ad as m,f as g,a7 as f,ag as _,E as C,Z as h,t as y,A as k,ac as v}from"./vue-vendor.1938e417.js";import"./vendor.ece5be17.js";import"./__commonjsHelpers__.488ed5c2.js";import"./index.a6220f15.js";import"./BasicModal.cadf9873.js";import"./useWindowSizeFn.6b4ca4c0.js";const x=i({name:"JVxeFileCell",components:a,props:o(),setup:a=>l(a,e.file),enhanced:n}),F=f("span",{style:{"margin-left":"5px"}},"上传中…",-1),j={style:{"margin-left":"5px"}},b={style:{"margin-left":"5px"}};const w=t(x,[["render",function(e,a,l,n,o,t){const i=s("LoadingOutlined"),x=s("a-tooltip"),w=s("Icon"),M=s("a-menu-item"),U=s("a-menu"),D=s("Dropdown"),R=s("a-button"),J=s("a-upload"),A=s("JUploadModal");return d(),r("div",null,[e.hasFile?(d(!0),r(p,{key:0},u([e.innerFile||{}],((a,l)=>(d(),r("div",{key:l,style:{position:"relative"}},["uploading"===a.status?(d(),c(x,{key:0,title:`上传中(${Math.floor(a.percent)}%)`},{default:m((()=>[g(i),F])),_:2},1032,["title"])):"done"===a.status?(d(),c(x,{key:1,title:a.name},{default:m((()=>[g(w,{icon:"ant-design:paper-clip"}),f("span",j,_(e.ellipsisFileName),1)])),_:2},1032,["title"])):(d(),c(x,{key:2,title:a.message||"上传失败"},{default:m((()=>[g(w,{icon:"ant-design:exclamation-circle",style:{color:"red"}}),f("span",b,_(e.ellipsisFileName),1)])),_:2},1032,["title"])),g(D,{trigger:["click"],placement:"bottomRight",style:{"margin-left":"10px"}},{overlay:m((()=>[g(U,null,{default:m((()=>[!1!==e.originColumn.allowDownload?(d(),c(M,{key:0,onClick:e.handleClickDownloadFile},{default:m((()=>[f("span",null,[g(w,{icon:"ant-design:download"}),C(" 下载")])])),_:1},8,["onClick"])):h("",!0),!1!==e.originColumn.allowRemove?(d(),c(M,{key:1,onClick:e.handleClickDeleteFile},{default:m((()=>[f("span",null,[g(w,{icon:"ant-design:delete"}),C(" 删除")])])),_:1},8,["onClick"])):h("",!0),g(M,{onClick:e.handleMoreOperation},{default:m((()=>[f("span",null,[g(w,{icon:"ant-design:bars"}),C(" 更多")])])),_:1},8,["onClick"])])),_:1})])),default:m((()=>[g(x,{title:"操作"},{default:m((()=>["uploading"!==a.status?(d(),c(w,{key:0,icon:"ant-design:setting",style:{cursor:"pointer"}})):h("",!0)])),_:2},1024)])),_:2},1024)])))),128)):h("",!0),y(g(J,v({name:"file",data:{isup:1},multiple:!1,action:e.uploadAction,headers:e.uploadHeaders,showUploadList:!1},e.cellProps,{onChange:e.handleChangeUpload}),{default:m((()=>[g(R,{preIcon:"ant-design:upload"},{default:m((()=>[C(_(e.originColumn.btnText||"点击上传"),1)])),_:1})])),_:1},16,["action","headers","onChange"]),[[k,!e.hasFile]]),g(A,{value:e.modalValue,onRegister:e.registerModel,onChange:e.onModalChange},null,8,["value","onRegister","onChange"])])}]]);export{w as default};
