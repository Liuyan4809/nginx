var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(t,r,a)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,n=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&i(e,r,t[r]);if(a)for(var r of a(t))o.call(t,r)&&i(e,r,t[r]);return e},l=(e,t,r)=>new Promise(((a,s)=>{var o=e=>{try{n(r.next(e))}catch(t){s(t)}},i=e=>{try{n(r.throw(e))}catch(t){s(t)}},n=e=>e.done?a(e.value):Promise.resolve(e.value).then(o,i);n((r=r.apply(e,t)).next())}));import{B as m}from"./index.a6220f15.js";import{u as c,B as u}from"./useForm.0379175d.js";import"./BasicForm.vue_vue_type_style_index_0_lang.daafa440.js";import{L as d}from"./index.8e60a3c0.js";import{c as f}from"./user.data.7a0af023.js";import{h as p,i as y}from"./validator.f9ca1444.js";import{r as v}from"./vendor.ece5be17.js";import{d as g,a2 as j,ab as b,ad as h,f as O,u as w,ac as Y}from"./vue-vendor.1938e417.js";const D=g({name:"user-quit-agent-modal"}),M=g((P=n({},D),t(P,r({emits:["success","register"],setup(e,{emit:t}){const[r,{resetFields:a,setFieldsValue:s,validate:o,clearValidate:i}]=c({schemas:f,showActionButtonGroup:!1}),[g,{setModalProps:D,closeModal:M}]=d((e=>l(this,null,(function*(){yield a(),D({confirmLoading:!1}),D({confirmLoading:!1});const t=yield p({userName:e.userName});e=t.result?t.result:e;let r=new Date;e.startTime||(e.startTime=v(r).format("YYYY-MM-DD HH:mm:ss")),e.endTime||(e.endTime=function(e){let t=e.getFullYear()+30,r=v(e).format("MM"),a=v(e).format("DD"),s=v(e).format("HH:mm:ss");return v(t+"-"+r+"-"+a+" "+s).format("YYYY-MM-DD HH:mm:ss")}(r)),yield s(n({},e))}))));function P(){return l(this,null,(function*(){try{const e=yield o();D({confirmLoading:!0}),yield y(e),M(),t("success")}finally{D({confirmLoading:!1})}}))}return(e,t)=>(j(),b(w(m),Y(e.$attrs,{onRegister:w(g),width:800,title:"离职交接",onOk:P}),{default:h((()=>[O(w(u),{onRegister:w(r)},null,8,["onRegister"])])),_:1},16,["onRegister"]))}}))));var P;export{M as _};
